
@model DriverViewModel

@{
    ViewData["Title"] = "Моят профил";
}

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">👤 Моят профил (Driver)</h2>
        <div class="d-flex gap-2">
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id">Редакция</a>
            <a class="btn btn-outline-secondary" asp-controller="Cars" asp-action="All">Моите коли</a>
            @*Добавям бутон за кола btn*@
            <p></p>
            <a class=" btn btn-success" asp-controller="Cars" asp-action="Create">Добави кола</a>
        </div>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-3">Име</dt>
                <dd class="col-sm-9">@Model.FirstName</dd>

                <dt class="col-sm-3">Фамилия</dt>
                <dd class="col-sm-9">@Model.LastName</dd>

                <dt class="col-sm-3">Лична карта</dt>
                <dd class="col-sm-9">@Model.IDCard</dd>

                <dt class="col-sm-3">Адрес</dt>
                <dd class="col-sm-9">@Model.Address</dd>

                <dt class="col-sm-3">GSM</dt>
                <dd class="col-sm-9">@Model.GSM</dd>

                <dt class="col-sm-3">Потребител</dt>
                <dd class="col-sm-9">@Model.UserName</dd>
            </dl>
        </div>
    </div>

    <div class="mt-4">
        <h4 class="mb-3">🚗 Регистрирани автомобили</h4>

        @if (Model.Cars != null && Model.Cars.Any())
        {
            <div class="table-responsive">
                <table class="table table-striped align-middle">
                    <thead>
                        <tr>
                            <th>Марка</th>
                            <th>Рег. №</th>
                            <th>Година</th>
                            <th>Места</th>
                            <th class="text-end">Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var car in Model.Cars)
                        {
                            <tr>
                                <td>@car.Brand</td>
                                <td>@car.RegNumber</td>
                                <td>@car.Year</td>
                                <td>@car.Places</td>
                                <td class="text-end">
                                    <a class="btn btn-sm btn-outline-primary"
                                       asp-controller="Cars" asp-action="Details" asp-route-id="@car.Id">
                                        Детайли
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="alert alert-info mb-0">
                Нямате добавени автомобили.
                <a asp-controller="Cars" asp-action="Create" class="alert-link">Добави кола</a>
            </div>
        }
    </div>
</div>
